<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card Prediction</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .player h1 {
            font-size: 16px;
            line-height: 0.5;
        }

        .card-deck {
            display: flex;
            gap: 5px;
        }

        .card {
            width: 30px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            /* box-shadow: 1.5px 1.5px 1px; */
            background-color: #fafafa;
            user-select: none;
            position: relative;
        }

        .hidden {
            border: 2px dashed #888;
            box-sizing: border-box;
            font-weight: 500;
            color:#444;
        }
    </style>
</head>
<body>
    <section id="game-container">
        <div class="player">
            <h1>Andy</h1>
            <div class="card-deck">
                <div class="card hidden">?</div>
                <div class="card hidden">?</div>
                <div class="card hidden">?</div>
                <div class="card hidden">?</div>
                <div class="card hidden">?</div>
            </div>
        </div>
        <div class="player">
            <h1>Bob</h1>
            <div class="card-deck">
                <div class="card hidden">?</div>
                <div class="card hidden">?</div>
                <div class="card hidden">?</div>
                <div class="card hidden">?</div>
                <div class="card hidden">?</div>
            </div>
            <div class="player">
            <h1>Charles</h1>
            <div class="card-deck">
                <div class="card hidden">?</div>
                <div class="card hidden">?</div>
                <div class="card hidden">?</div>
                <div class="card hidden">?</div>
                <div class="card hidden">?</div>
            </div>
        </div>
        </div>
    </section>
    <script>
        class Card {
            constructor (suit, rank) {
                this.suit = suit;
                this.rank = rank;
            }
        }

        class Player {
            constructor (name, predictStrategy, playingStrategy) {
                this.name = name;
                this.deck = [];
                this.expectedWin = null;
                this.totalWin = 0;
                this.predictStrategy = predictStrategy;
                this.playingStrategy = playingStrategy;
            }
        }

        const shuffle = (array) => {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        const gameContainer = document.getElementById("game-container");
        const GameManager = {
            round: 5,
            leadIndex: 0,
            leadSuit: null,
            players: [
                new Player("Andy", "User", "User"),
                new Player("Bob", "Random", "Random"),
                new Player("Charles", "Random", "Random")
            ],
            cardList: [
                new Card("♦️", "A"),
                new Card("♦️", "2"),
                new Card("♦️", "3"),
                new Card("♦️", "4"),
                new Card("♦️", "5"),
                new Card("♦️", "6"),
                new Card("♦️", "7"),
                new Card("♦️", "8"),
                new Card("♦️", "9"),
                new Card("♦️", "10"),
                new Card("♦️", "J"),
                new Card("♦️", "Q"),
                new Card("♦️", "K"),
                new Card("♥️", "A"),
                new Card("♥️", "2"),
                new Card("♥️", "3"),
                new Card("♥️", "4"),
                new Card("♥️", "5"),
                new Card("♥️", "6"),
                new Card("♥️", "7"),
                new Card("♥️", "8"),
                new Card("♥️", "9"),
                new Card("♥️", "10"),
                new Card("♥️", "J"),
                new Card("♥️", "Q"),
                new Card("♥️", "K"),
                new Card("♣️", "A"),
                new Card("♣️", "2"),
                new Card("♣️", "3"),
                new Card("♣️", "4"),
                new Card("♣️", "5"),
                new Card("♣️", "6"),
                new Card("♣️", "7"),
                new Card("♣️", "8"),
                new Card("♣️", "9"),
                new Card("♣️", "10"),
                new Card("♣️", "J"),
                new Card("♣️", "Q"),
                new Card("♣️", "K"),
                new Card("♠️", "A"),
                new Card("♠️", "2"),
                new Card("♠️", "3"),
                new Card("♠️", "4"),
                new Card("♠️", "5"),
                new Card("♠️", "6"),
                new Card("♠️", "7"),
                new Card("♠️", "8"),
                new Card("♠️", "9"),
                new Card("♠️", "10"),
                new Card("♠️", "J"),
                new Card("♠️", "Q"),
                new Card("♠️", "K")
            ],

            init () {
                let i = 0;
                for (let player of this.players) {
                    for (let j = 0; j < this.round; j++) {
                        player.deck.push(this.cardList[i++]);
                    }
                }
                gameContainer.innerHTML= "";
                for (let player of this.players) {
                    const playerDisplay = document.createElement("div");
                    playerDisplay.classList.add("player");
                    const playerNameDisplay = document.createElement("h1");
                    playerNameDisplay.textContent = player.name;
                    const playerCardDeckDisplay = document.createElement("div");
                    playerCardDeckDisplay.classList.add("card-deck");
                    for (let card of player.deck) {
                        const cardDisplay = document.createElement("div");
                        cardDisplay.classList.add("card");
                        const cardRankDisplay = document.createElement("div");
                        cardRankDisplay.classList.add("rank");
                        cardRankDisplay.textContent = card.rank;
                        const cardSuitDisplay = document.createElement("div");
                        cardSuitDisplay.classList.add("suit");
                        cardSuitDisplay.textContent = card.suit;
                        cardDisplay.appendChild(cardRankDisplay);
                        cardDisplay.appendChild(cardSuitDisplay);
                        playerCardDeckDisplay.appendChild(cardDisplay);
                    }
                    playerDisplay.appendChild(playerNameDisplay);
                    playerDisplay.appendChild(playerCardDeckDisplay);
                    gameContainer.appendChild(playerDisplay);
                }
            },
        };

        GameManager.init();
    </script>
</body>
</html>